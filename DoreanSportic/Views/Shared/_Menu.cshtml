@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

<div class="navbar bg-[#004AAD] text-white w-screen">

    <!--Navbar responsivo-->
    <div class="navbar-start">
        <div class="dropdown bg-[#004AAD]">
            <div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"> 
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" /> </svg>
            </div>
            <ul tabindex="0"
                class="menu menu-sm dropdown-content bg-[#004AAD] rounded-box z-1 mt-3 w-52 p-2 shadow ">

                <li class="bg-[#004AAD]"><a class="btn btn-ghost" asp-area="" asp-controller="Home" asp-action="Index">@(Localizer["Inicio"])</a></li>
                <!--Administrador-->
                <li>
                    <a class="btn btn-ghost" asp-area="" asp-controller="Dashboard" asp-action="Index">@(Localizer["Administrador"])</a>
                </li>

                <!--Productos-->
                <li>
                    <a class="btn btn-ghost" asp-area="" asp-controller="Producto" asp-action="Index">@(Localizer["Nuestros productos"])</a>
                </li>

                <!--Pedidos-->
                <li>
                    <a class="btn btn-ghost" asp-area="" asp-controller="Pedido" asp-action="Index">@(Localizer["Pedidos"])</a>
                </li>

            </ul>
        </div>
        <!--Logo de la aplicación-->
        <a class="btn btn-ghost text-xl" asp-area="" asp-controller="Home" asp-action="Index">
            <img src="@Url.Content("~/Assets/DoreanSporticLogo.png")" asp-append-version="true"
                 style="height: 100%; width: auto; border-radius: 100%" />
            <span>Dorean Sportic</span>
        </a>
    </div>

    <!--Navbar en pantalla extendida-->
    <div class="navbar-center hidden lg:flex z-50 relative">
        <ul class="menu menu-horizontal px-1">
            <li><a class="btn btn-ghost" asp-area="" asp-controller="Home" asp-action="Index">@(Localizer["Inicio"])</a></li>
            <!--Administrador-->
            <li>
                <a class="btn btn-ghost" asp-area="" asp-controller="Dashboard" asp-action="Index">@(Localizer["Administrador"])</a>
            </li>

            <!--Productos-->
            <li><a class="btn btn-ghost" asp-area="" asp-controller="Producto" asp-action="Index">@(Localizer["Nuestros productos"]) </a></li>

            <!--Pedidos-->
            <li><a class="btn btn-ghost" asp-area="" asp-controller="Pedido" asp-action="Index">@(Localizer["Pedidos"]) </a></li>

        </ul>
    </div>

    <div class="navbar-end" style="margin-right: 2%">

        <!-- Código para insertar un toggle del tema claro/oscuro -->
@*          <label class="swap swap-rotate btn btn-ghost" style="margin-right: 10px">
            <!-- Este input es el que activa el swap -->
            <input type="checkbox" data-toggle-theme="light,dark" data-act-class="swap-active" />

            <!-- Sol -->
            <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M5.64 17.66A9 9 0 1 1 18.36 6.34 9 9 0 0 1 5.64 17.66zM12 4a8 8 0 0 0 0 16 8 8 0 0 0 0-16zm0 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8z" />
            </svg>

            <!-- Luna -->
            <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
            </svg>
        </label> *@

        <!-- Input del buscador del sitio-->
        <div style="padding-right: 15px">
            <input type="text" placeholder=@(Localizer["Buscar productos"]) class="input input-bordered w-24 md:w-auto text-black" />
        </div>

        <!-- Para seleccionar el idioma de la aplicación -->
        @{
            // Obtener idioma/cultura actual que corre la aplicación
            var currentCulture = System.Globalization.CultureInfo.CurrentUICulture.Name;
            
            // Generar las opciones del formulario (options) como cadenas String ya que Razor no permite agregarlas como 
            // atributos en las opciones del formulario. Luego en el formulario se usa Html.Raw para inyectar texto HTML puro
            // el cual Razor no ve como un tag helper (lo que provoca un error de no poder insertar código C# dentro del atributo del tag helper)
            var optionEs = $"<option value=\"es-CR\"{(currentCulture.StartsWith("es") ? " selected" : "")}>ES</option>";
            var optionEn = $"<option value=\"en-US\"{(currentCulture.StartsWith("en") ? " selected" : "")}>EN</option>";
        }

        @*Formulario para manejar la selección del idioma*@
        <form id="lang-form"
              action="@Url.Action("SetLanguage","Language")"
              method="post"
              class="flex items-center gap-2">
            <div class="flex items-center gap-2" style="width: 150px ; padding-right: 10px">
                <!-- Ícono de mundo SVG -->
                <span class="text-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="inline h-5 w-5 text-white" viewBox="0 0 24 24" stroke="currentColor">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none" />
                        <path d="M2 12h20M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20" stroke="currentColor" stroke-width="2" fill="none" />
                    </svg>
                </span>
                <select name="culture"
                        onchange="this.form.submit();"
                        class="select select-sm bg-black text-white text-base-content"
                        style="border:none">
                    @Html.Raw(optionEs)
                    @Html.Raw(optionEn)
                </select>
            </div>
            <input type="hidden" name="returnUrl" value="@Context.Request.Path" />
        </form>




        <!-- Contenedor del carrito de compras -->
        <div class="dropdown relative" style="padding-right: 30px">
            <div tabindex="0" role="button" class="btn btn-ghost btn-circle" style="padding-left: 20px">
                <div class="indicator">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /> </svg>
                    <span class="badge badge-sm indicator-item" id="carrito-navbar-badge">0</span>
                </div>
            </div>

            <div tabindex="0"
                 class="card card-compact dropdown-content bg-[#004AAD] z-1 mt-3 w-100 shadow" style="right: 10%">
                <div class="card-body" id="carrito-navbar-body">
                </div>
            </div>
        </div>

        <!-- Contenedor del perfil de usuario-->
        <div class="dropdown relative">
            <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
                <div class="w-25 rounded-full flex items-center justify-center" style="background-color:gray">
                    <!-- SVG de usuario -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M5.121 17.804A9.969 9.969 0 0012 20c2.21 0 4.252-.715 5.879-1.926M15 11a3 3 0 11-6 0 3 3 0 016 0zM12 2a10 10 0 00-9.878 8.12" />
                    </svg>
                </div>
            </div>
            <ul tabindex="0"
                class="menu menu-sm dropdown-content bg-[#004AAD] rounded-box z-1 mt-3 w-52 p-2 shadow" style="right: 10%">
                <li><a class="btn btn-ghost">@(Localizer["Perfil"])</a></li>
                <li><a class="btn btn-ghost">@(Localizer["Configuración"])</a></li>
                <li><a class="btn btn-ghost">@(Localizer["Cerrar sesión"])</a></li>
            </ul>
        </div>
    </div>



</div>

